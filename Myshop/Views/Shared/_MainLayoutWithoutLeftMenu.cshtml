@using Myshop.App_Start;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@ViewBag.title - @WebSession.ShopName</title>
    <link href="~/Content/App/Home/Common.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Content/Layout/extra.css" rel="stylesheet" />
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Layout/hoe.css" rel="stylesheet" />
    <link href="~/Content/Layout/switch.css" rel="stylesheet" />
    <link href="~/Content/Layout/header.css" rel="stylesheet" />
    <link href="~/Content/Layout/Horizontal_Nevigation.css" rel="stylesheet" />
    <link href="~/Content/Layout/Overlay_Effect.css" rel="stylesheet" />
    <link href="~/Content/Layout/Push_effect.css" rel="stylesheet" />
    <link href="~/Content/Layout/Theme_Color.css" rel="stylesheet" />
    <link href="~/Content/Layout/ShrinkEffect.css" rel="stylesheet" />
    <link href="~/Content/Layout/rightsidebar.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/App/Common/App.js"></script>
    <script src="~/Scripts/App/Common/Utility.js"></script>
    <!-- Bootstrap -->

    <link href="http://fonts.googleapis.com/css?family=Lato:100italic,100,300italic,300,400italic,400,700italic,700,900italic,900" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body hoe-navigation-type="vertical" hoe-nav-placement="left" theme-layout="wide-layout" theme-bg="bg1">
    <div id="hoeapp-wrapper" class="hoe-hide-lpanel" hoe-device-type="desktop">
        <header id="hoe-header" hoe-lpanel-effect="shrink" class="">
            <div class="hoe-left-header">
                <a href="#"><i class="fa fa-graduation-cap"></i> <span>@Html.ActionLink(WebSession.ShopName, "Index", "Home", new { area = "" }, new { @class = "navbar-brand", title = "Click here to go to dashboard", style = "font-size: 13px;" })</span></a>
                <span class="hoe-sidebar-toggle"><a href="#"></a></span>
            </div>

            <div class="hoe-right-header" hoe-position-type="relative">
                <span class="hoe-sidebar-toggle"><a href="#"></a></span>
                @if (!string.IsNullOrEmpty(WebSession.Username))
                {
                    <ul class="left-navbar">
                        <li class="dropdown hoe-rheader-submenu message-notification">
                            <a href="#" class="dropdown-toggle icon-circle" data-toggle="dropdown">
                                <i class="fa fa-envelope-o"></i>
                                <span class="badge badge-danger">@WebSession.NotificationCount</span>
                            </a>
                            <ul class="dropdown-menu ">
                                <li class="hoe-submenu-label">
                                    <h3>You have <span class="bold">@WebSession.NotificationCount</span> New Messages <a href="#">view all</a></h3>
                                </li>

                                @foreach (WebSessionNotificationList item in WebSession.NotificationList)
                                {
                                    <li>
                                        <a href="#" class="clearfix">
                                            <img src="data:image/jpg;base64,@item.Photo" class="img-circle notification-avatar" alt="Avatar">
                                            <span class="notification-title">@item.Sender</span>
                                            <span class="notification-ago  ">@item.ReceiveTime</span>
                                            <p class="notification-message">@item.Message</p>
                                        </a>
                                    </li>
                                }
                            </ul>
                        </li>
                        <li class="dropdown hoe-rheader-submenu message-notification left-min-30">
                            <a href="#" class="dropdown-toggle icon-circle" data-toggle="dropdown">
                                <i class="fa fa-bell-o"></i>
                                <span class="badge badge-success">6</span>
                            </a>
                            <ul class="dropdown-menu ">
                                <li class="hoe-submenu-label">
                                    <h3><span class="bold">6 pending</span> Notification <a href="#">view all</a></h3>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-database red-text"></i>
                                        <span class="notification-title">Database overload- Sav3090</span>
                                        <span class="notification-ago  ">3 min ago</span>
                                        <p class="notification-message">Database overload due to incorrect queries</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-exchange green-text"></i>
                                        <span class="notification-title">Installing App v1.2.1</span>
                                        <span class="notification-ago  ">60 % Done</span>
                                        <p class="notification-message">
                                        </p><div class="progress">
                                            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:60%">
                                                60%
                                            </div>
                                        </div>
                                        <p></p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-exclamation-triangle red-text"></i>
                                        <span class="notification-title">Application Error - Sav3085</span>
                                        <span class="notification-ago  ">10 min ago</span>
                                        <p class="notification-message">failed to initialize the application due to error weblogic.application.moduleexception</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-server yellow-text"></i>
                                        <span class="notification-title">Server Status - Sav3080</span>
                                        <span class="notification-ago  ">30GB Free Space</span>
                                        <p class="notification-message">
                                        </p><div class="progress">
                                            <div class="progress-bar progress-bar-success" role="progressbar" style="width:40%">

                                            </div>
                                            <div class="progress-bar progress-bar-warning" role="progressbar" style="width:10%">

                                            </div>
                                            <div class="progress-bar progress-bar-danger" role="progressbar" style="width:20%">

                                            </div>
                                        </div>
                                        <p></p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-cogs green-text"></i>
                                        <span class="notification-title">Application Configured</span>
                                        <span class="notification-ago  ">30 min ago</span>
                                        <p class="notification-message">Your setting is updated on server Sav3060</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="clearfix">
                                        <i class="fa fa-server blue-text"></i>
                                        <span class="notification-title">Server Status</span>
                                        <span class="notification-ago  ">300GB Free Space</span>
                                        <p class="notification-message">
                                        </p><div class="progress">
                                            <div class="progress-bar progress-bar-info" role="progressbar" style="width:80%">
                                                Free Space
                                            </div>
                                        </div>
                                        <p></p>
                                    </a>
                                </li>

                            </ul>
                        </li>
                        <li class="dropdown hoe-rheader-submenu message-notification left-min-65">
                            <a href="#" class="dropdown-toggle icon-circle" data-toggle="dropdown">
                                <i class="fa fa-tasks"></i>
                                <span class="badge badge-danger">@WebSession.TaskCount</span>
                            </a>
                            <ul class="dropdown-menu ">
                                <li class="hoe-submenu-label">
                                    <h3> You have <span class="bold">@WebSession.TaskCount </span>pending Task <a href="~/Global/User/UserTaskList">view all</a></h3>
                                </li>@{
                                    foreach (var item in WebSession.TaskList)
                                    {
                                        <li>
                                            <a href="#" class="clearfix">
                                                <img alt="Avatar" class="img-circle notification-avatar" src="data:image/jpg;base64,@item.TaskCreatedByPhoto">
                                                <span class="notification-title"> @item.TaskCreatedByName Assigned new task </span>
                                                <span class="notification-ago-1 ">@item.TaskAssignedTime</span>
                                                <p class="notification-message">@item.TaskDetails</p>
                                            </a>
                                        </li>
                                    }
                                }
                            </ul>
                        </li>
                        <li>
                            <form method="post" class="hoe-searchbar">
                                <input type="text" placeholder="Search..." name="keyword" class="form-control">
                                <span class="search-icon"><i class="fa fa-search"></i></span>
                            </form>
                        </li>
                    </ul>
                                    }

                <ul class="right-navbar">
                    <li class="dropdown hoe-rheader-submenu hoe-header-profile">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <span>
                                @if (!string.IsNullOrEmpty(WebSession.UserPhoto))
                                {
                                    <img class="img-circle" src="data:image/jpg;base64,@WebSession.UserPhoto">
                                }
                                else
                                {
                                    string userAvtar = WebSession.UserGender == "M" ? "MaleUser.png" : "FemaleUser.png";
                                    <img class="img-circle" src="~/Images/Icons/@userAvtar">
                                }
                            </span>
                            <span><b>@WebSession.Firstname @WebSession.Lastname</b> <i class="fa fa-angle-down"></i></span>
                        </a>
                        <ul class="dropdown-menu ">
                            @if (!string.IsNullOrEmpty(WebSession.Username))
                            {
                                <li><a href="~/Global/user/Userprofile"><i class="fa fa-user"></i>My Profile</a></li>
                                <li><a href="#"><i class="fa fa-calendar"></i>My Calendar</a></li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-envelope"></i>My Inbox  <span class="badge badge-danger">
                                            @WebSession.NotificationCount
                                        </span>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <i class="fa fa-rocket"></i>My Tasks <span class="badge badge-success">
                                            7
                                        </span>
                                    </a>
                                </li>
                                <li id="_layoutLockScreen"><a href="#"><i class="fa fa-lock"></i>Lock Screen</a></li>
                                <li><a href="\login\logout"><i class="fa fa-power-off"></i>Logout</a></li>
                            }
                            else
                            {
                                <li><a href="\login\login"><i class="fa fa-power-off"></i>Login</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown hoe-rheader-submenu hidden-xs">
                        <a href="#" class="dropdown-toggle icon-circle" data-toggle="dropdown"><i class="fa fa-ellipsis-h"></i></a>
                    </li>
                </ul>

            </div>
        </header>
        <div id="hoeapp-container" hoe-color-type="lpanel-bg2" hoe-lpanel-effect="shrink" class="">
            <section id="main-content" style="min-height: 279px;margin-left: 0 !important;">
                <div class="inner-content">

                    @RenderBody()
                </div>
            </section>
            <div id="styleSelector">
                <div class="selector-toggle">
                    <a href="javascript:void(0)"></a>
                </div>
                <ul>
                    <li>
                        <p class="selector-title">Style Selector</p>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Header BG Color Option</span>
                        <div id="theme-color">
                            <a href="#" class="header-bg" hoe-color-type="header-bg1">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg2">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg3">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg4">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg5">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg6">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg7">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg8">&nbsp;</a>
                            <a href="#" class="header-bg" hoe-color-type="header-bg9">&nbsp;</a>
                        </div>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Left Panel BG Color Option</span>
                        <div id="theme-color">
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg1">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg2">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg3">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg4">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg5">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg6">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg7">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg8">&nbsp;</a>
                            <a href="#" class="lpanel-bg" hoe-color-type="lpanel-bg9">&nbsp;</a>
                        </div>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Logo Color BG Option</span>
                        <div id="theme-color">
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg1">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg2">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg3">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg4">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg5">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg6">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg7">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg8">&nbsp;</a>
                            <a href="#" class="logo-bg" hoe-color-type="logo-bg9">&nbsp;</a>
                        </div>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Theme Background BG Option</span>
                        <div id="theme-color">
                            <a href="#" class="theme-bg" hoe-themebg-type="bg1">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg2">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg3">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg4">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg5">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg6">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg7">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg8">&nbsp;</a>
                            <a href="#" class="theme-bg" hoe-themebg-type="bg9">&nbsp;</a>
                        </div>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Theme Layout</span>
                        <select id="theme-layout" class="form-control minimal input-sm">
                            <option name="theme-layout" value="wide-layout">Wide Layout</option>
                            <option name="theme-layout" value="box-layout">Boxed Layout</option>
                        </select>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">SideBar Effect</span>
                        <select id="leftpanel-effect" class="form-control minimal input-sm">
                            <option name="lpanel-effect" value="shrink">Default</option>
                            <option name="lpanel-effect" value="overlay">Overlay</option>
                            <option name="lpanel-effect" value="push">Push</option>
                        </select>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Navigation Type</span>
                        <select id="navigation-type" class="form-control minimal input-sm">
                            <option name="navigation-type" value="vertical">Vertical</option>
                            <option name="navigation-type" value="vertical-compact">Vertical Compact</option>
                            <option name="navigation-type" value="horizontal">Horizontal</option>
                            <option name="navigation-type" value="horizontal-compact">Horizontal compact</option>
                        </select>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Navigation Side</span>
                        <select id="navigation-side" class="form-control minimal input-sm">
                            <option name="navigation-side" value="leftside">Left</option>
                            <option name="navigation-side" value="rightside">Right</option>
                        </select>
                    </li>
                    <li class="theme-option">
                        <span class="sub-title">Sidebar Position</span>
                        <select id="sidebar-position" class="form-control minimal input-sm">
                            <option name="sidebar-position" value="default">Default</option>
                            <option name="sidebar-position" value="fixed">Fixed</option>
                        </select>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--Start Thumbnail Popup-->
    <div class="shop-thumbnail-pre">
        <div class="popup-header">
            <img src="~/Images/Icons/if_Close_Icon_1398919.png" id="popupclose" onclick="utility.popupClose()" title="Close" alt="close" style="float: right;padding-bottom: 5px;" />
        </div>
        <div class="shop-thumbnail-holder">
            <img src="~/Images/Icons/404.png" class="shop-thumbnail-img" />
        </div>
    </div>
    <div id="mainalertContainer">
        @*Common Error Alert Code*@
        @{
            string message = string.Empty;
            string alert = string.Empty;
            if (ViewBag.message != null || TempData["messages"] != null)
            {
                message = ViewBag.message == null ? TempData["messages"] : ViewBag.message;
                alert = ViewBag.alert == null ? TempData["alert"] : ViewBag.alert;
                if (string.IsNullOrEmpty(alert))
                {
                    alert = "info";
                }
                <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header @alert">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">
                                    @if (@alert == "success")
                                    {
                                        <text>Success</text>
                                    }
                                    else if (@alert == "info")
                                    {
                                        <text>Information</text>
                                    }
                                    else if (@alert == "danger")
                                    {
                                        <text>Error</text>
                                    }
                                    else
                                    {
                                        <text>Warning</text>
                                    }
                                    !
                                </h4>
                            </div>
                            <div class="modal-body">
                                <p>@message</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            }
            ////Validation Summary Code
            if (!ViewData.ModelState.IsValid)
            {
                <div class="alert alert-danger text-center alert-dismissible" style="margin-top: 0px;position: fixed !important;width: 80% !important;display: none;z-index: 100000000 !important;margin-left: 10% !important;" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <strong>Validation Error!</strong> @Html.ValidationSummary(false, "", new { @class = "validSummary" })
                </div>
            }
        }
    </div>
    <div id="mainAlert" class="alert text-center alert-dismissible" style="margin-top: 0px;position: absolute !important;width: 70% !important;display: none;z-index: 100000000 !important;margin-left: 10% !important;top:60px;left:11%" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <strong id="alertColor">Validation Error!</strong> <span id="alertmessage"></span>
    </div>
    <!--End Thumbnail Popup-->
    <!-- Modal Start-->
    <div id="showModel" data-toggle="modal" data-target="#myModal"></div> <!--Model trigger point dont remove-->

    <div class="lock">
        <div class="row">
            <div class="col-lg-6" style="margin-left: 25%;margin-top: 15%;">
                <div style="text-align:center;color:white;"><h2 id="_layoutScreenLockMsg">Your Screen is locked</h2></div>
                <hr />
                <div class="input-group">
                    <input type="password" class="form-control" autocomplete="off" id="_layoutUnlockPassword" placeholder="Enter your account password..">
                    <span class="input-group-btn">
                        <button class="btn btn-primary" id="_layoutUnlockScreen" type="button">Unlock!</button>
                    </span>
                </div><!-- /input-group -->
            </div><!-- /.col-lg-6 -->
        </div><!-- /.row -->
    </div>
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/hoe.js"></script>
    <style>
        .lock {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000a3;
            z-index: 99999999999;
            display: none;
        }

        .danger {
            background-color: #ff00007d;
        }

        .info {
            background-color: rgba(0, 188, 212, 0.5);
        }

        .warning {
            background-color: rgba(212, 147, 0, 0.5);
        }

        .success {
            background-color: rgba(0, 128, 0, 0.50);
        }
    </style>
    <script>
        let _screenTime = null;
        $(document).ready(function () {
            $('#myModal').modal();
        });

        $(document).on('click', '#_layoutUnlockScreen', function () {
            let $password = $('#_layoutUnlockPassword');
            utility.ajaxHelper(app.urls.CommonController.CheckPassword, { password: $password.val() }, function (data) {
                if (data) {
                    clearInterval(_screenTime);
                    $('.lock').hide(500);
                    $password.val('');
                }
                else
                {
                    $('#_layoutScreenLockMsg').text('Password is invalid');
                    setTimeout(function () {
                        $('#_layoutScreenLockMsg').text('Your Screen is locked');
                    },2000);
                }
            });
        });

        $(document).on('click', '#_layoutLockScreen', function () {
            _screenTime = setInterval(function () {
                $('.lock').show();
            }, 100);
            //$('.lock').show(100);
            return false;
        });
    </script>
</body>
</html>